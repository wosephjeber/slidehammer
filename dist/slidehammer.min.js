/* slide-hammer v0.9.0 
 * Copyright (c) 2015 Joseph Weber 
 */
!function(a){a.fn.slidehammer=function(c){return this.each(function(){new b(a(this),c)})};var b=function(b,c){var d=this;this.options=a.extend({thresholdPercentage:.33,thresholdVelocity:.5,onInit:function(){},onSlideChange:function(){}},c),this.elem=a(b),this.wrapper=b.find(".slide-wrapper"),this.container=b.find(".slide-container"),this.slides=b.find(".slide"),this.currentSlide=this.slides.first(),this.slideWidth=null,this.left=0,this.threshold=100,this.sizeSlides=function(){d.slideWidth=d.wrapper.width(),d.threshold=d.slideWidth*d.options.thresholdPercentage,d.slides.each(function(){a(this).width(d.slideWidth)})},this.moveTo=function(a,b){d.container.css({"-webkit-transition-duration":b+"ms","transition-duration":b+"ms","-webkit-transform":"translateX("+a+"px)",transform:"translateX("+a+"px)"})},d.nextSlide=function(a){if(d.currentSlide.index()===d.slides.length-1)d.moveTo(d.left,500);else{d.currentSlide=d.currentSlide.next(),d.left=d.currentSlide.index()*-d.slideWidth;var b=a>d.options.thresholdVelocity?1/a*d.slideWidth:500;d.moveTo(d.left,b),d.options.onSlideChange.call(d)}},d.prevSlide=function(a){if(0===d.currentSlide.index())d.moveTo(d.left,500);else{d.currentSlide=d.currentSlide.prev(),d.left=d.currentSlide.index()*-d.slideWidth;var b=a<-d.options.thresholdVelocity?-1/a*d.slideWidth:500;d.moveTo(d.left,b),d.options.onSlideChange.call(d)}},this.slideTo=function(a){d.currentSlide=d.slides.eq(a),d.left=d.currentSlide.index()*-d.slideWidth,d.moveTo(d.left,500),d.options.onSlideChange.call(d)},this.initTouch=function(){var b=new Hammer.Manager(this.elem[0]),c=new Hammer.Pan({threshold:0,direction:Hammer.DIRECTION_HORIZONTAL});b.add([c]),b.on("panleft panright panend",function(b){switch(b.type){case"panleft":case"panright":d.moveTo(d.left+b.deltaX,0);break;case"panend":b.deltaX<=-d.threshold||b.velocityX>=d.options.thresholdVelocity?d.nextSlide(b.velocityX):b.deltaX>=d.threshold||b.velocityX<=-d.options.thresholdVelocity?d.prevSlide(b.velocityX):d.moveTo(d.left,500)}a(".stat-event").html(b.type),a(".stat-delta-x").html(b.deltaX),a(".stat-offset").html(d.left),a(".stat-delta-time").html(b.deltaTime),a(".stat-velocity").html(b.velocityX)})},this.sizeSlides(),this.initTouch(),this.options.onInit.call(this),a(window).on("resize",function(){d.sizeSlides(),d.moveTo(d.currentSlide.index()*-d.slideWidth,0)})}}(jQuery);