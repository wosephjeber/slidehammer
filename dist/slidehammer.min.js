/* slide-hammer v0.9.0 
 * Copyright (c) 2015 Joseph Weber 
 */
!function(a){a.fn.slidehammer=function(b){return this.each(function(){new SlideHammer(a(this),b)})}}(jQuery);var SlideHammer=function(a,b){function c(a){var b;switch(typeof d.options.height){case"number":b=d.options.height;break;case"string":b=d.slideWidth*(parseInt(d.options.height)/100);break;case"function":b=d.options.height.call(d,d.currentSlide)}d.wrapper.css({height:b,"transition-duration":a?a+"ms":"0ms","-webkit-transition-duration":a?a+"ms":"0ms"})}var d=this;this.options=$.extend({thresholdPercentage:.33,thresholdVelocity:.5,wrapper:".slide-wrapper",container:".slide-container",slide:".slide",height:"66.66%",onInit:function(){},onSlideChange:function(){},onPan:function(){}},b),this.elem=$(a),this.wrapper=a.find(this.options.wrapper),this.container=a.find(this.options.container),this.slides=a.find(this.options.slide),this.currentSlide=this.slides.first(),this.slideWidth=null,this.left=0,this.threshold=100,this.sizeSlider=function(){d.slideWidth=d.wrapper.width(),d.threshold=d.slideWidth*d.options.thresholdPercentage,d.slides.width(d.slideWidth),c()},this.moveTo=function(a,b){d.container.css({"-webkit-transition-duration":b+"ms","transition-duration":b+"ms","-webkit-transform":"translateX("+a+"px)",transform:"translateX("+a+"px)"})},d.nextSlide=function(a){if(d.currentSlide.index()===d.slides.length-1)d.moveTo(d.left,500);else{d.currentSlide=d.currentSlide.next(),d.left=d.currentSlide.index()*-d.slideWidth;var b=a>d.options.thresholdVelocity?1/a*d.slideWidth:500;d.moveTo(d.left,b),d.options.onSlideChange.call(d),"function"==typeof d.options.height&&c(b)}},d.prevSlide=function(a){if(0===d.currentSlide.index())d.moveTo(d.left,500);else{d.currentSlide=d.currentSlide.prev(),d.left=d.currentSlide.index()*-d.slideWidth;var b=a<-d.options.thresholdVelocity?-1/a*d.slideWidth:500;d.moveTo(d.left,b),d.options.onSlideChange.call(d),"function"==typeof d.options.height&&c(b)}},this.slideTo=function(a){d.currentSlide=d.slides.eq(a),d.left=d.currentSlide.index()*-d.slideWidth,d.moveTo(d.left,500),d.options.onSlideChange.call(d),"function"==typeof d.options.height&&c()},this.initTouch=function(){var a=new Hammer.Manager(this.elem[0]),b=new Hammer.Pan({threshold:0,direction:Hammer.DIRECTION_HORIZONTAL});a.add([b]),a.on("panleft panright panend",function(a){switch(a.type){case"panleft":case"panright":d.moveTo(d.left+a.deltaX,0);break;case"panend":a.deltaX<=-d.threshold||a.velocityX>=d.options.thresholdVelocity?d.nextSlide(a.velocityX):a.deltaX>=d.threshold||a.velocityX<=-d.options.thresholdVelocity?d.prevSlide(a.velocityX):d.moveTo(d.left,500)}d.options.onPan.call(d,a)})},this.sizeSlider(),this.initTouch(),this.options.onInit.call(this),$(window).on("resize",function(){d.sizeSlider(),d.moveTo(d.currentSlide.index()*-d.slideWidth,0)})};