/* slide-hammer v0.9.0 
 * Copyright (c) 2015 Joseph Weber 
 */
!function(a){a.fn.slidehammer=function(b){return this.each(function(){new SlideHammer(a(this),b)})}}(jQuery);var SlideHammer=function(a,b){function c(){j=new Hammer.Manager(a[0]);var b=new Hammer.Pan({threshold:0,direction:Hammer.DIRECTION_HORIZONTAL});j.add([b])}function d(a){var b;switch(typeof k.options.height){case"number":b=k.options.height;break;case"string":b=k.slideWidth*(parseInt(k.options.height)/100);break;case"function":b=k.options.height.call(k,k.currentSlide)}k.wrapper.css({height:b,"transition-duration":a?a+"ms":"0ms","-webkit-transition-duration":a?a+"ms":"0ms"})}function e(){k.options.enabled&&(c(),g(),k.sizeSlider(),k.moveTo(k.currentSlide.index()*-k.slideWidth,0))}function f(){k.options.enabled&&h()}function g(){if(!l){var b=$("<div>",{"class":k.options.wrapperClass}),c=$("<div>",{"class":k.options.containerClass});b.insertBefore(k.slides.first()).append(c.append(k.slides.detach())),k.wrapper=a.find("."+k.options.wrapperClass),k.container=a.find("."+k.options.containerClass),k.enableTouch(),l=!0}}function h(){l&&(k.wrapper.after(k.slides.width("").detach()).remove(),k.disableTouch(),l=!1)}function i(){return k.options.breakpoint&&$(window).width()<=k.options.breakpoint||null===k.options.breakpoint}var j,k=this,l=!1;this.options=$.extend({thresholdPercentage:.33,thresholdVelocity:.5,wrapperClass:"slide-wrapper",containerClass:"slide-container",slide:".slide",height:"66.66%",enabled:!0,breakpoint:null,onInit:function(){},onSlideChange:function(){},onPan:function(){}},b),this.elem=$(a),this.slides=a.find(this.options.slide),this.currentSlide=this.slides.first(),this.slideWidth=null,this.left=0,this.threshold=100,this.sizeSlider=function(){k.slideWidth=k.wrapper.outerWidth(),k.threshold=k.slideWidth*k.options.thresholdPercentage,k.slides.outerWidth(k.slideWidth),d()},this.moveTo=function(a,b){k.container.css({"-webkit-transition-duration":b+"ms","transition-duration":b+"ms","-webkit-transform":"translateX("+a+"px)",transform:"translateX("+a+"px)"})},k.nextSlide=function(a){if(k.currentSlide.index()===k.slides.length-1)k.moveTo(k.left,500);else{k.currentSlide=k.currentSlide.next(),k.left=k.currentSlide.index()*-k.slideWidth;var b=a>k.options.thresholdVelocity?1/a*k.slideWidth:500;k.moveTo(k.left,b),k.options.onSlideChange.call(k),"function"==typeof k.options.height&&d(b)}},k.prevSlide=function(a){if(0===k.currentSlide.index())k.moveTo(k.left,500);else{k.currentSlide=k.currentSlide.prev(),k.left=k.currentSlide.index()*-k.slideWidth;var b=a<-k.options.thresholdVelocity?-1/a*k.slideWidth:500;k.moveTo(k.left,b),k.options.onSlideChange.call(k),"function"==typeof k.options.height&&d(b)}},this.slideTo=function(a){k.currentSlide=k.slides.eq(a),k.left=k.currentSlide.index()*-k.slideWidth,k.moveTo(k.left,500),k.options.onSlideChange.call(k),"function"==typeof k.options.height&&d(500)},this.enableTouch=function(){j.on("panleft panright panend",function(a){switch(a.type){case"panleft":case"panright":k.moveTo(k.left+a.deltaX,0);break;case"panend":a.deltaX<=-k.threshold||a.velocityX>=k.options.thresholdVelocity?k.nextSlide(a.velocityX):a.deltaX>=k.threshold||a.velocityX<=-k.options.thresholdVelocity?k.prevSlide(a.velocityX):k.moveTo(k.left,500)}k.options.onPan.call(k,a)})},this.disableTouch=function(){j.off("panleft panright panend")},i()?e():f(),this.options.onInit.call(this),$(window).on("resize.slidehammer",function(){i()?e():f()})};